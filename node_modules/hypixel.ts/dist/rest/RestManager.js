"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RestManager = void 0;
const collection_1 = require("@discordjs/collection");
const _1 = require(".");
class RestManager {
    client;
    baseURL;
    requestHandlers;
    constructor(client) {
        this.client = client;
        this.baseURL = 'https://api.hypixel.net/';
        this.requestHandlers = new collection_1.Collection();
    }
    get routeBuilder() {
        return (0, _1.buildRoute)(this);
    }
    async request(method, path, options) {
        const apiRequest = new _1.APIRequest(this, method, path, options);
        let handler = this.requestHandlers.get(apiRequest.route);
        if (!handler) {
            handler = new _1.RequestHandler(this);
            this.requestHandlers.set(apiRequest.route, handler);
        }
        return handler.push(apiRequest);
    }
}
exports.RestManager = RestManager;
//# sourceMappingURL=RestManager.js.map